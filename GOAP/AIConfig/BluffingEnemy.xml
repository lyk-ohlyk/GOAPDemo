<?xml version="1.0" encoding="utf-8" ?>
<Root>
    <Name>BluffingRobot</Name>
    <WorldStates>
        <State>HAS_TARGET|0</State>     
        <State>IS_TARGET_NEAR|0</State> 
        <State>IS_TARGET_IN_RANGE|0</State>
        <State>TARGET_IN_SIGHT|0</State>
        <State>IS_LOW_HP|0</State>
    </WorldStates>
    <Goals>
        <Goal>
            <Name>Self-protection</Name>
            <PreConditions>
                <State>IS_LOW_HP|1</State>
                <State>IS_TARGET_NEAR|1</State>
            </PreConditions>
            <TargetStates>
                <State>
                    IS_LOW_HP|0
                </State>
            </TargetStates>
        </Goal>
        <Goal>
            <Name>Kill target</Name>
            <PreConditions>
                <State>HAS_TARGET|1</State>
                <State>IS_TARGET_IN_RANGE|1</State>
                <State>TARGET_IN_SIGHT|1</State>
            </PreConditions>
            <TargetStates>
                <State>
                    HAS_TARGET|0
                </State>
            </TargetStates>
        </Goal>
        <Goal>
            <Name>Get near to target</Name>
            <PreConditions>
                <State>HAS_TARGET|1</State>
                <State>IS_TARGET_IN_RANGE|0</State>
            </PreConditions>
            <TargetStates>
                <State>IS_TARGET_IN_RANGE|1</State>
                <State>TARGET_IN_SIGHT|1</State>
            </TargetStates>
        </Goal>
        <Goal>
            <Name>Guard</Name>
            <PreConditions>
                <State>HAS_TARGET|0</State>
            </PreConditions>
            <TargetStates>
                <State>
                    HAS_TARGET|1
                </State>
            </TargetStates>
        </Goal>
    </Goals>
    <Actions>
        <Action>
            <Name>Move to target</Name>
            <Behavior>MoveToTarget</Behavior>
            <PreConditions>
                <State>HAS_TARGET|1</State>
            </PreConditions>
            <Effects>
                <Effect>IS_TARGET_IN_RANGE|1</Effect>
                <Effect>TARGET_IN_SIGHT|1</Effect>
            </Effects>
            <CostFunc>ConstFunc|1</CostFunc>
        </Action>
        <Action>
            <Name>Frightened</Name>
            <Behavior>Frightened</Behavior>
            <PreConditions>
                <State>IS_LOW_HP|1</State>
            </PreConditions>
            <Effects>
                <Effect>IS_LOW_HP|0</Effect>
            </Effects>
            <CostFunc>FrightDistCost</CostFunc>
        </Action>
        <Action>
            <Name>Attack</Name>
            <Behavior>Attack</Behavior>
            <PreConditions>
                <State>IS_TARGET_IN_RANGE|1</State>
                <State>TARGET_IN_SIGHT|1</State>
            </PreConditions>
            <Effects>
                <Effect>HAS_TARGET|0</Effect>
            </Effects>
            <CostFunc>ConstFunc|1</CostFunc>
        </Action>
        <Action>
            <Name>Patrol</Name>
            <Behavior>Patrol</Behavior>
            <PreConditions>
                <State>HAS_TARGET|0</State>
            </PreConditions>
            <Effects>
                <Effect>HAS_TARGET|1</Effect>
            </Effects>
            <CostFunc>ConstFunc|1</CostFunc>
        </Action>
        <Action>
            <Name>Jump</Name>
            <Behavior>Jump</Behavior>
            <PreConditions>
                <State>TARGET_IN_SIGHT|1</State>
            </PreConditions>
            <Effects>
                <Effect>HAS_TARGET|0</Effect>
            </Effects>
            <CostFunc>JumpCost</CostFunc>
        </Action>
    </Actions>
</Root>